/*!/wp-content/themes/enfold/config-templatebuilder/avia-shortcodes/gallery_horizontal/gallery_horizontal.js*/
(function($){"use strict";$.fn.avia_hor_gallery=function(options){var defaults={slide_container:'.av-horizontal-gallery-inner',slide_element:'.av-horizontal-gallery-slider',slide_content:'.av-horizontal-gallery-wrap',active:'av-active-gal-item',prev:'.av-horizontal-gallery-prev',next:'.av-horizontal-gallery-next'};var options=$.extend(defaults,options);var win=$(window),browserPrefix=$.avia_utilities.supports('transition'),cssActive=this.browserPrefix!==!1?!0:!1,isMobile=$.avia_utilities.isMobile,transform3d=document.documentElement.className.indexOf('avia_transform3d')!==-1?!0:!1,transition={};return this.each(function(){var container=$(this),slide_container=container.find(options.slide_container),slide_element=container.find(options.slide_element),slide_content=container.find(options.slide_content),prev=container.find(options.prev),next=container.find(options.next),imgs=container.find('img'),all_elements_width=0,currentIndex=!1,initial=container.data('av-initial'),set_up=function(init){var sl_height=(slide_container.width()/100)*slide_container.data('av-height');slide_container.css({'padding':0}).height(sl_height);imgs.css('display','inline-block');setTimeout(function(){imgs.css('display','block')},10);all_elements_width=0;slide_content.each(function(){all_elements_width+=$(this).outerWidth(!0)});slide_element.css('min-width',all_elements_width);if(currentIndex!==!1){change_active(currentIndex)}},change_active=function(index){var current=slide_element.find(options.slide_content).eq(index),viewport=slide_container.width(),modifier=container.data('av-enlarge')>1&&currentIndex==index?container.data('av-enlarge'):1,outerWidth=current.outerWidth(!0)*modifier,margin_right=parseInt(current.css('margin-right'),10)/2,left_pos=viewport<all_elements_width?(current.position().left*-1)-(outerWidth/2)+(viewport/2):0;left_pos=left_pos+margin_right;if(left_pos+all_elements_width<viewport)left_pos=(all_elements_width-viewport-parseInt(current.css('margin-right'),10))*-1;if(left_pos>0)left_pos=0;slide_element.css('left',left_pos);slide_container.find("."+options.active).removeClass(options.active);current.addClass(options.active);currentIndex=index};$.avia_utilities.preload({container:container,global_callback:function(){set_up('init');win.on('debouncedresize',set_up);if(initial)change_active(initial-1);setTimeout(function(){container.addClass('av-horizontal-gallery-animated')},10)}});slide_element.avia_swipe_trigger({prev:options.prev,next:options.next});slide_content.on('click',function(e){var current=$(this);var index=slide_content.index(current);if(currentIndex===index){if(container.data('av-enlarge')>1&&!$(e.target).is('a')){}
return}
change_active(index)});prev.on('click',function(e){if(currentIndex===!1)currentIndex=1;var index=currentIndex-1;if(index<0)index=0;change_active(index)});next.on('click',function(e){if(currentIndex===!1)currentIndex=-1;var index=currentIndex+1;if(index>slide_content.length-1)index=slide_content.length-1;change_active(index)});if(!isMobile){container.avia_keyboard_controls({37:options.prev,39:options.next})}else{container.avia_swipe_trigger({next:options.next,prev:options.prev})}})}}(jQuery))
;